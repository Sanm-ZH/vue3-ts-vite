import{d as v,_ as T,o as i,c as p,a as r,t as y,n as k,b as $,F as b,r as F,e as P,f as g,g as _,h as B,i as N,w as A,j as q,k as h,l as w}from"./index.da2e32d6.js";const E=v({props:{todo:{type:Object,required:!0},isPc:{type:Boolean,required:!0}},setup(e,{emit:t}){return{optCompletedClick:()=>{t("opt",e.todo.id)},deleteTodo:()=>{t("del",e.todo.id)}}}}),D=["value","checked"];function J(e,t,d,s,m,l){return i(),p("div",{class:k(["todo-item",e.todo.completed?"completed":"",e.isPc?"":"notPc"])},[r("input",{type:"checkbox",class:"toggle",value:+e.todo.completed,checked:e.todo.completed,onClick:t[0]||(t[0]=(...o)=>e.optCompletedClick&&e.optCompletedClick(...o))},null,8,D),r("label",null,y(e.todo.content),1),r("button",{class:"destroy",onClick:t[1]||(t[1]=(...o)=>e.deleteTodo&&e.deleteTodo(...o))})],2)}var V=T(E,[["render",J],["__scopeId","data-v-fb79dab4"]]);const j=v({props:{filter:{type:String,required:!0},todos:{type:Array,required:!0}},setup(e,{emit:t}){const d=["all","active","completed"],s=$(()=>e.todos.filter(c=>!c.completed).length);return{states:d,unFinishedTodoLength:s,toggleFilter:o=>{t("toggle",o)},clearAllCompleted:()=>{t("clearAll")}}}}),K={class:"helper"},R={class:"left"},W=P(" iteams left"),z={class:"tabs"},H=["onClick"];function M(e,t,d,s,m,l){return i(),p("div",K,[r("span",R,[r("b",null,y(e.unFinishedTodoLength),1),W]),r("span",z,[(i(!0),p(b,null,F(e.states,o=>(i(),p("span",{key:o,class:k([o,e.filter===o?"actived":""]),onClick:c=>e.toggleFilter(o)},y(o),11,H))),128))]),r("span",{class:"clear",onClick:t[0]||(t[0]=(...o)=>e.clearAllCompleted&&e.clearAllCompleted(...o))},"Clear completed")])}var G=T(j,[["render",M],["__scopeId","data-v-1c22c348"]]);var Q=v({name:"Author",props:{name:{type:String,default:"if(){}else{}"}},setup(e){return()=>g("div",{id:"author"},[g("span",null,[P("Written by "),e.name])])}});const U=()=>{const e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];let d=!0;for(let s=0;s<t.length;s++)if(e.indexOf(t[s])>0){d=!1;break}return d};const X=v({name:"TodoPage",components:{Item:V,Tabs:G,Author:Q},setup(){const e=localStorage.test_vue3_demo?JSON.parse(localStorage.test_vue3_demo):{};let t=0;const d=_(!0),s=_(null);B(()=>{d.value=U(),s.value&&s.value.focus()});const m=e.todos||[];let l=N(m);const o=n=>{!n.target.value.trim()||(l.unshift({id:t++,content:n.target.value.trim(),completed:!1}),n.target.value="")},c=n=>{l.splice(l.findIndex(a=>a.id===n),1)},C=()=>{l=l.filter(a=>!a.completed)},u=n=>{const a=l.findIndex(L=>L.id===n);l[a].completed=!l[a].completed};A(l,n=>{e.todos=n,localStorage.test_vue3_demo=JSON.stringify(e)});const S=e.filter||"all",f=_(S),I=n=>{f.value=n};A(f,n=>{e.filter=n,localStorage.test_vue3_demo=JSON.stringify(e)});const O=$(()=>{if(f.value==="all")return _(l);const n=f.value==="completed";return _(l.filter(a=>n===a.completed))});return{todos:l,addTodo:o,optCompleted:u,deleteTodo:c,clearAllCompleted:C,filter:f,toggleFilter:I,filteredTodos:O,isPc:d,inputRef:s}}}),Y={class:"todo-app"};function Z(e,t,d,s,m,l){const o=h("Item"),c=h("Tabs"),C=h("Author");return i(),p("div",null,[r("div",Y,[r("input",{type:"text",class:"add-input",ref:"inputRef",placeholder:"\u63A5\u4E0B\u6765\u8981\u505A\u4EC0\u4E48\uFF1F",onKeyup:t[0]||(t[0]=q((...u)=>e.addTodo&&e.addTodo(...u),["enter"]))},null,544),(i(!0),p(b,null,F(e.filteredTodos.value,u=>(i(),w(o,{todo:u,key:u.id,isPc:e.isPc,onDel:e.deleteTodo,onOpt:e.optCompleted},null,8,["todo","isPc","onDel","onOpt"]))),128)),g(c,{filter:e.filter,todos:e.todos,onToggle:e.toggleFilter,onClearAll:e.clearAllCompleted},null,8,["filter","todos","onToggle","onClearAll"])]),g(C)])}var ee=T(X,[["render",Z],["__scopeId","data-v-1a604321"]]);export{ee as default};
